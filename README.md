ИНСТРУКЦИЯ ПО ЗАПУСКУ:
Инициализировать директорию для виртуальной среды, находясь в корневой директории проекта, путём команды "python -m venv venv"
Запустить виртуальное окружение, находясь в корневой директории проекта, командой "venv/scripts/activate" для windows и "source venv/bin/activate" для linux-подобных систем
Выполнить установку зависимостей через команду "pip install -r requirements.txt"
Создать env.py файл(env_example.py в корне приложен) в корне проекта и заполнить его своими данными(имя бд желаемое, предварительно создавать её не нужно, это сделает тулза)
Запустить утилиту database, находясь в корне проекта, командой "python -m tools.database_creator"
Запустить сервер командой "uvicorn main:app"
Регистрация осуществляется по эндпоинту "/librarians/register" с данными в теле запроса email, password


КРАТКОЕ ОПИСАНИЕ СТРУКТУРЫ ПРОЕКТА:
alembic - миграции
models - SQLalchemy модели для БД, менеджеры для работы с ними
packages - приложения для валидации и хеширования паролей
schemas - pydantic схемы для response-объектов
serializers - сериализаторы для входных данных
tools - сервисные приложения, приложения аутентификации
main.py - API логика
tests.py - тесты

ОПИСАНИЕ РЕШЕНИЯ ПО СТРУКТУРЕ БД:
Решение по структуре было сформировано на основании ТЗ. Отдельное хранение выданных книг обусловлено простотой получения данных и работы с ними
        
ОПИСАНИЕ РЕАЛИЗАЦИИ БИЗНЕС-ЛОГИКИ:
Бизнес-логика реализована в models.manager.py
п.4.1 реализован в main.py (строки 117-129). В случае всех успешных проверок(на наличие книг, на отсутствие у читателя 3 книг при себе),
количество книг отнимается и изменение фиксируется в БД.
п.4.2 реализован в models.manager.py(строки 190-214). Количество сущностей borrowed_books, полученных в результате селекта по WHERE USER_ID AND BOOK_ID из соответствующей таблицы,
проверяется на длину и в случае len >= 3 поднимается exception.
п.4.3 реализован в models.manager.py(строки 216-237). Наличие у сущности параметра 
return_date говорит о том, что книга уже возвращена. Соответственно, borrowed_books сущность уже не учитывается при рассчёте книг к возврату и вернуть её нельзя. В случае, если выборка пуста,
поднимается exception 404.

ОПИСАНИЕ РЕАЛИЗАЦИИ АУТЕНТИФИКАЦИИ:
При успешном вводе пароля пользователю в ответ возвращается access-token, который содержит его email в payload и имеет срок жизни 5 минут(в целях теста. В проде - больше).
access-token шифруется по алгоритму HS256, используя в качестве salt SECRET_KEY из env.py. Далее при каждом запросе к защищенному эндпоинту access_token проверяется в
приложеннии tools.authentication, где с помощью jwt.decode() можно в автоматическом режиме проверить все параметры(время жизни токена, валидность подписи).
Защищены все эндпоинты, кроме выборки всех книг, т.к. эти эндпоинты подразумевают управление структурой и бизнес-логикой, которой не должны управлять несанкционированные пользователи.
Эндпоинт с выборкой всех книг не защищен с целью возможной дальнейшей интеграции с, например, сторонними приложениями, которые могут отправлять пользователю уведомление(на почту или в телеграм)
о том, что скоро нужно будет вернуть книгу, при условии расширения функционала API с указыванием срока, на который пользователь может эту книгу получить. Также неавторизованные пользователи могут видеть,
какие книги есть в электронной библиотеке. Данную информацию считаю необходимой для клиента. Библиотеки использовались в соответствии с ТЗ

ТВОРЧЕСКАЯ ЧАСТЬ:
Реализация refresh-токена с добавлением его в БД, чтобы увеличить время сессий пользователя и автоматизировать обновление access-token
Расширение API для создания возможности сотрудникам указывать срок возврата книг
Реализация телеграм-бота с каталогом книг и системой оповещений о скором необходимом возврате книг
